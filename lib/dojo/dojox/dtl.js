/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

//>>built
require({cache:{"dojox*dtl/tag/logic":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_base","dojo/_base/array"],function(_1,_2,dd){_1.getObject("dtl.tag.logic",true,dojox);var _3=dd.text;var _4=dd.tag.logic;_4.IfNode=_1.extend(function(_5,_6,_7,_8){this.bools=_5;this.trues=_6;this.falses=_7;this.type=_8;},{render:function(_9,_a){var i,_b,_c,_d,_e;if(this.type=="or"){for(i=0;_b=this.bools[i];i++){_c=_b[0];_d=_b[1];_e=_d.resolve(_9);if((_e&&!_c)||(_c&&!_e)){if(this.falses){_a=this.falses.unrender(_9,_a);}return (this.trues)?this.trues.render(_9,_a,this):_a;}}if(this.trues){_a=this.trues.unrender(_9,_a);}return (this.falses)?this.falses.render(_9,_a,this):_a;}else{for(i=0;_b=this.bools[i];i++){_c=_b[0];_d=_b[1];_e=_d.resolve(_9);if(_e==_c){if(this.trues){_a=this.trues.unrender(_9,_a);}return (this.falses)?this.falses.render(_9,_a,this):_a;}}if(this.falses){_a=this.falses.unrender(_9,_a);}return (this.trues)?this.trues.render(_9,_a,this):_a;}return _a;},unrender:function(_f,_10){_10=(this.trues)?this.trues.unrender(_f,_10):_10;_10=(this.falses)?this.falses.unrender(_f,_10):_10;return _10;},clone:function(_11){var _12=(this.trues)?this.trues.clone(_11):null;var _13=(this.falses)?this.falses.clone(_11):null;return new this.constructor(this.bools,_12,_13,this.type);}});_4.IfEqualNode=_1.extend(function(_14,_15,_16,_17,_18){this.var1=new dd._Filter(_14);this.var2=new dd._Filter(_15);this.trues=_16;this.falses=_17;this.negate=_18;},{render:function(_19,_1a){var _1b=this.var1.resolve(_19);var _1c=this.var2.resolve(_19);_1b=(typeof _1b!="undefined")?_1b:"";_1c=(typeof _1b!="undefined")?_1c:"";if((this.negate&&_1b!=_1c)||(!this.negate&&_1b==_1c)){if(this.falses){_1a=this.falses.unrender(_19,_1a,this);}return (this.trues)?this.trues.render(_19,_1a,this):_1a;}if(this.trues){_1a=this.trues.unrender(_19,_1a,this);}return (this.falses)?this.falses.render(_19,_1a,this):_1a;},unrender:function(_1d,_1e){return _4.IfNode.prototype.unrender.call(this,_1d,_1e);},clone:function(_1f){var _20=this.trues?this.trues.clone(_1f):null;var _21=this.falses?this.falses.clone(_1f):null;return new this.constructor(this.var1.getExpression(),this.var2.getExpression(),_20,_21,this.negate);}});_4.ForNode=_1.extend(function(_22,_23,_24,_25){this.assign=_22;this.loop=new dd._Filter(_23);this.reversed=_24;this.nodelist=_25;this.pool=[];},{render:function(_26,_27){var i,j,k;var _28=false;var _29=this.assign;for(k=0;k<_29.length;k++){if(typeof _26[_29[k]]!="undefined"){_28=true;_26=_26.push();break;}}if(!_28&&_26.forloop){_28=true;_26=_26.push();}var _2a=this.loop.resolve(_26)||[];for(i=_2a.length;i<this.pool.length;i++){this.pool[i].unrender(_26,_27,this);}if(this.reversed){_2a=_2a.slice(0).reverse();}var _2b=_1.isObject(_2a)&&!_1.isArrayLike(_2a);var _2c=[];if(_2b){for(var key in _2a){_2c.push(_2a[key]);}}else{_2c=_2a;}var _2d=_26.forloop={parentloop:_26.get("forloop",{})};var j=0;for(i=0;i<_2c.length;i++){var _2e=_2c[i];_2d.counter0=j;_2d.counter=j+1;_2d.revcounter0=_2c.length-j-1;_2d.revcounter=_2c.length-j;_2d.first=!j;_2d.last=(j==_2c.length-1);if(_29.length>1&&_1.isArrayLike(_2e)){if(!_28){_28=true;_26=_26.push();}var _2f={};for(k=0;k<_2e.length&&k<_29.length;k++){_2f[_29[k]]=_2e[k];}_1.mixin(_26,_2f);}else{_26[_29[0]]=_2e;}if(j+1>this.pool.length){this.pool.push(this.nodelist.clone(_27));}_27=this.pool[j++].render(_26,_27,this);}delete _26.forloop;if(_28){_26=_26.pop();}else{for(k=0;k<_29.length;k++){delete _26[_29[k]];}}return _27;},unrender:function(_30,_31){for(var i=0,_32;_32=this.pool[i];i++){_31=_32.unrender(_30,_31);}return _31;},clone:function(_33){return new this.constructor(this.assign,this.loop.getExpression(),this.reversed,this.nodelist.clone(_33));}});_1.mixin(_4,{if_:function(_34,_35){var i,_36,_37,_38=[],_39=_35.contents.split();_39.shift();_35=_39.join(" ");_39=_35.split(" and ");if(_39.length==1){_37="or";_39=_35.split(" or ");}else{_37="and";for(i=0;i<_39.length;i++){if(_39[i].indexOf(" or ")!=-1){throw new Error("'if' tags can't mix 'and' and 'or'");}}}for(i=0;_36=_39[i];i++){var not=false;if(_36.indexOf("not ")==0){_36=_36.slice(4);not=true;}_38.push([not,new dd._Filter(_36)]);}var _3a=_34.parse(["else","endif"]);var _3b=false;var _35=_34.next_token();if(_35.contents=="else"){_3b=_34.parse(["endif"]);_34.next_token();}return new _4.IfNode(_38,_3a,_3b,_37);},_ifequal:function(_3c,_3d,_3e){var _3f=_3d.split_contents();if(_3f.length!=3){throw new Error(_3f[0]+" takes two arguments");}var end="end"+_3f[0];var _40=_3c.parse(["else",end]);var _41=false;var _3d=_3c.next_token();if(_3d.contents=="else"){_41=_3c.parse([end]);_3c.next_token();}return new _4.IfEqualNode(_3f[1],_3f[2],_40,_41,_3e);},ifequal:function(_42,_43){return _4._ifequal(_42,_43);},ifnotequal:function(_44,_45){return _4._ifequal(_44,_45,true);},for_:function(_46,_47){var _48=_47.contents.split();if(_48.length<4){throw new Error("'for' statements should have at least four words: "+_47.contents);}var _49=_48[_48.length-1]=="reversed";var _4a=(_49)?-3:-2;if(_48[_48.length+_4a]!="in"){throw new Error("'for' tag received an invalid argument: "+_47.contents);}var _4b=_48.slice(1,_4a).join(" ").split(/ *, */);for(var i=0;i<_4b.length;i++){if(!_4b[i]||_4b[i].indexOf(" ")!=-1){throw new Error("'for' tag received an invalid argument: "+_47.contents);}}var _4c=_46.parse(["endfor"]);_46.next_token();return new _4.ForNode(_4b,_48[_48.length+_4a+1],_49,_4c);}});return dojox.dtl.tag.logic;});},"dojox*date/php":function(){define("dojox/date/php",["dojo/_base/kernel","dojo/_base/lang","dojo/date","dojox/string/tokenize"],function(_4d,_4e,_4f,_50){_4d.getObject("date.php",true,dojox);dojox.date.php.format=function(_51,_52){var df=new dojox.date.php.DateFormat(_52);return df.format(_51);};dojox.date.php.DateFormat=function(_53){if(!this.regex){var _54=[];for(var key in this.constructor.prototype){if(_4d.isString(key)&&key.length==1&&_4d.isFunction(this[key])){_54.push(key);}}this.constructor.prototype.regex=new RegExp("(?:(\\\\.)|(["+_54.join("")+"]))","g");}var _55=[];this.tokens=_50(_53,this.regex,function(_56,_57,i){if(_57){_55.push([i,_57]);return _57;}if(_56){return _56.charAt(1);}});this.replacements=_55;};_4d.extend(dojox.date.php.DateFormat,{weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_3:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_3:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthdays:[31,28,31,30,31,30,31,31,30,31,30,31],format:function(_58){this.date=_58;for(var i=0,_59;_59=this.replacements[i];i++){this.tokens[_59[0]]=this[_59[1]]();}return this.tokens.join("");},d:function(){var j=this.j();return (j.length==1)?"0"+j:j;},D:function(){return this.weekdays_3[this.date.getDay()];},j:function(){return this.date.getDate()+"";},l:function(){return this.weekdays[this.date.getDay()];},N:function(){var w=this.w();return (!w)?7:w;},S:function(){switch(this.date.getDate()){case 11:case 12:case 13:return "th";case 1:case 21:case 31:return "st";case 2:case 22:return "nd";case 3:case 23:return "rd";default:return "th";}},w:function(){return this.date.getDay()+"";},z:function(){var _5a=this.date.getTime()-new Date(this.date.getFullYear(),0,1).getTime();return Math.floor(_5a/86400000)+"";},W:function(){var _5b;var _5c=new Date(this.date.getFullYear(),0,1).getDay()+1;var w=this.date.getDay()+1;var z=parseInt(this.z());if(z<=(8-_5c)&&_5c>4){var _5d=new Date(this.date.getFullYear()-1,this.date.getMonth(),this.date.getDate());if(_5c==5||(_5c==6&&_4f.isLeapYear(_5d))){_5b=53;}else{_5b=52;}}else{var i;if(Boolean(this.L())){i=366;}else{i=365;}if((i-z)<(4-w)){_5b=1;}else{var j=z+(7-w)+(_5c-1);_5b=Math.ceil(j/7);if(_5c>4){--_5b;}}}return _5b;},F:function(){return this.months[this.date.getMonth()];},m:function(){var n=this.n();return (n.length==1)?"0"+n:n;},M:function(){return this.months_3[this.date.getMonth()];},n:function(){return this.date.getMonth()+1+"";},t:function(){return (Boolean(this.L())&&this.date.getMonth()==1)?29:this.monthdays[this.getMonth()];},L:function(){return (_4f.isLeapYear(this.date))?"1":"0";},o:function(){},Y:function(){return this.date.getFullYear()+"";},y:function(){return this.Y().slice(-2);},a:function(){return this.date.getHours()>=12?"pm":"am";},b:function(){return this.a().toUpperCase();},B:function(){var off=this.date.getTimezoneOffset()+60;var _5e=(this.date.getHours()*3600)+(this.date.getMinutes()*60)+this.getSeconds()+(off*60);var _5f=Math.abs(Math.floor(_5e/86.4)%1000)+"";while(_5f.length<2){_5f="0"+_5f;}return _5f;},g:function(){return (this.date.getHours()>12)?this.date.getHours()-12+"":this.date.getHours()+"";},G:function(){return this.date.getHours()+"";},h:function(){var g=this.g();return (g.length==1)?"0"+g:g;},H:function(){var G=this.G();return (G.length==1)?"0"+G:G;},i:function(){var _60=this.date.getMinutes()+"";return (_60.length==1)?"0"+_60:_60;},s:function(){var _61=this.date.getSeconds()+"";return (_61.length==1)?"0"+_61:_61;},e:function(){return _4f.getTimezoneName(this.date);},I:function(){},O:function(){var off=Math.abs(this.date.getTimezoneOffset());var _62=Math.floor(off/60)+"";var _63=(off%60)+"";if(_62.length==1){_62="0"+_62;}if(_63.length==1){_62="0"+_63;}return ((this.date.getTimezoneOffset()<0)?"+":"-")+_62+_63;},P:function(){var O=this.O();return O.substring(0,2)+":"+O.substring(2,4);},T:function(){return this.e().substring(0,3);},Z:function(){return this.date.getTimezoneOffset()*-60;},c:function(){return this.Y()+"-"+this.m()+"-"+this.d()+"T"+this.h()+":"+this.i()+":"+this.s()+this.P();},r:function(){return this.D()+", "+this.d()+" "+this.M()+" "+this.Y()+" "+this.H()+":"+this.i()+":"+this.s()+" "+this.O();},U:function(){return Math.floor(this.date.getTime()/1000);}});return dojox.date.php;});},"dojox*dtl/ext-dojo/NodeList":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_base"],function(_64,_65,dd){_64.getObject("dtl.ext-dojo.NodeList",true,dojox);_64.extend(_64.NodeList,{dtl:function(_66,_67){var d=dd;var _68=this;var _69=function(_6a,_6b){var _6c=_6a.render(new d._Context(_6b));_68.forEach(function(_6d){_6d.innerHTML=_6c;});};d.text._resolveTemplateArg(_66).addCallback(function(_6e){_66=new d.Template(_6e);d.text._resolveContextArg(_67).addCallback(function(_6f){_69(_66,_6f);});});return this;}});return dojox.dtl.ext-_64.NodeList;});},"dojox*dtl/tag/loader":function(){define("dojox/dtl/tag/loader",["dojo/_base/kernel","dojo/_base/lang","../_base","dojo/_base/array","dojo/_base/connect"],function(_70,_71,dd){_70.getObject("dtl.tag.loader",true,dojox);var _72=dd.tag.loader;_72.BlockNode=_70.extend(function(_73,_74){this.name=_73;this.nodelist=_74;},{"super":function(){if(this.parent){var _75=this.parent.nodelist.dummyRender(this.context,null,true);if(typeof _75=="string"){_75=new String(_75);}_75.safe=true;return _75;}return "";},render:function(_76,_77){var _78=this.name;var _79=this.nodelist;var _7a;if(_77.blocks){var _7b=_77.blocks[_78];if(_7b){_7a=_7b.parent;_79=_7b.nodelist;_7b.used=true;}}this.rendered=_79;_76=_76.push();this.context=_76;this.parent=null;if(_79!=this.nodelist){this.parent=this;}_76.block=this;if(_77.getParent){var _7c=_77.getParent();var _7d=_70.connect(_77,"onSetParent",function(_7e,up,_7f){if(up&&_7f){_77.setParent(_7c);}});}_77=_79.render(_76,_77,this);_7d&&_70.disconnect(_7d);_76=_76.pop();return _77;},unrender:function(_80,_81){return this.rendered.unrender(_80,_81);},clone:function(_82){return new this.constructor(this.name,this.nodelist.clone(_82));},toString:function(){return "dojox.dtl.tag.loader.BlockNode";}});_72.ExtendsNode=_70.extend(function(_83,_84,_85,_86,key){this.getTemplate=_83;this.nodelist=_84;this.shared=_85;this.parent=_86;this.key=key;},{parents:{},getParent:function(_87){var _88=this.parent;if(!_88){var _89;_88=this.parent=_87.get(this.key,false);if(!_88){throw new Error("extends tag used a variable that did not resolve");}if(typeof _88=="object"){var url=_88.url||_88.templatePath;if(_88.shared){this.shared=true;}if(url){_88=this.parent=url.toString();}else{if(_88.templateString){_89=_88.templateString;_88=this.parent=" ";}else{_88=this.parent=this.parent.toString();}}}if(_88&&_88.indexOf("shared:")===0){this.shared=true;_88=this.parent=_88.substring(7,_88.length);}}if(!_88){throw new Error("Invalid template name in 'extends' tag.");}if(_88.render){return _88;}if(this.parents[_88]){return this.parents[_88];}this.parent=this.getTemplate(_89||dojox.dtl.text.getTemplateString(_88));if(this.shared){this.parents[_88]=this.parent;}return this.parent;},render:function(_8a,_8b){var _8c=this.getParent(_8a);_8c.blocks=_8c.blocks||{};_8b.blocks=_8b.blocks||{};for(var i=0,_8d;_8d=this.nodelist.contents[i];i++){if(_8d instanceof dojox.dtl.tag.loader.BlockNode){var old=_8c.blocks[_8d.name];if(old&&old.nodelist!=_8d.nodelist){_8b=old.nodelist.unrender(_8a,_8b);}_8c.blocks[_8d.name]=_8b.blocks[_8d.name]={shared:this.shared,nodelist:_8d.nodelist,used:false};}}this.rendered=_8c;return _8c.nodelist.render(_8a,_8b,this);},unrender:function(_8e,_8f){return this.rendered.unrender(_8e,_8f,this);},toString:function(){return "dojox.dtl.block.ExtendsNode";}});_72.IncludeNode=_70.extend(function(_90,_91,_92,_93,_94){this._path=_90;this.constant=_91;this.path=(_91)?_90:new dd._Filter(_90);this.getTemplate=_92;this.text=_93;this.parsed=(arguments.length==5)?_94:true;},{_cache:[{},{}],render:function(_95,_96){var _97=((this.constant)?this.path:this.path.resolve(_95)).toString();var _98=Number(this.parsed);var _99=false;if(_97!=this.last){_99=true;if(this.last){_96=this.unrender(_95,_96);}this.last=_97;}var _9a=this._cache[_98];if(_98){if(!_9a[_97]){_9a[_97]=dd.text._resolveTemplateArg(_97,true);}if(_99){var _9b=this.getTemplate(_9a[_97]);this.rendered=_9b.nodelist;}return this.rendered.render(_95,_96,this);}else{if(this.text instanceof dd._TextNode){if(_99){this.rendered=this.text;this.rendered.set(dd.text._resolveTemplateArg(_97,true));}return this.rendered.render(_95,_96);}else{if(!_9a[_97]){var _9c=[];var div=document.createElement("div");div.innerHTML=dd.text._resolveTemplateArg(_97,true);var _9d=div.childNodes;while(_9d.length){var _9e=div.removeChild(_9d[0]);_9c.push(_9e);}_9a[_97]=_9c;}if(_99){this.nodelist=[];var _9f=true;for(var i=0,_a0;_a0=_9a[_97][i];i++){this.nodelist.push(_a0.cloneNode(true));}}for(var i=0,_a1;_a1=this.nodelist[i];i++){_96=_96.concat(_a1);}}}return _96;},unrender:function(_a2,_a3){if(this.rendered){_a3=this.rendered.unrender(_a2,_a3);}if(this.nodelist){for(var i=0,_a4;_a4=this.nodelist[i];i++){_a3=_a3.remove(_a4);}}return _a3;},clone:function(_a5){return new this.constructor(this._path,this.constant,this.getTemplate,this.text.clone(_a5),this.parsed);}});_70.mixin(_72,{block:function(_a6,_a7){var _a8=_a7.contents.split();var _a9=_a8[1];_a6._blocks=_a6._blocks||{};_a6._blocks[_a9]=_a6._blocks[_a9]||[];_a6._blocks[_a9].push(_a9);var _aa=_a6.parse(["endblock","endblock "+_a9]).rtrim();_a6.next_token();return new dojox.dtl.tag.loader.BlockNode(_a9,_aa);},extends_:function(_ab,_ac){var _ad=_ac.contents.split();var _ae=false;var _af=null;var key=null;if(_ad[1].charAt(0)=="\""||_ad[1].charAt(0)=="'"){_af=_ad[1].substring(1,_ad[1].length-1);}else{key=_ad[1];}if(_af&&_af.indexOf("shared:")==0){_ae=true;_af=_af.substring(7,_af.length);}var _b0=_ab.parse();return new dojox.dtl.tag.loader.ExtendsNode(_ab.getTemplate,_b0,_ae,_af,key);},include:function(_b1,_b2){var _b3=_b2.contents.split();if(_b3.length!=2){throw new Error(_b3[0]+" tag takes one argument: the name of the template to be included");}var _b4=_b3[1];var _b5=false;if((_b4.charAt(0)=="\""||_b4.slice(-1)=="'")&&_b4.charAt(0)==_b4.slice(-1)){_b4=_b4.slice(1,-1);_b5=true;}return new _72.IncludeNode(_b4,_b5,_b1.getTemplate,_b1.create_text_node());},ssi:function(_b6,_b7){var _b8=_b7.contents.split();var _b9=false;if(_b8.length==3){_b9=(_b8.pop()=="parsed");if(!_b9){throw new Error("Second (optional) argument to ssi tag must be 'parsed'");}}var _ba=_72.include(_b6,new dd.Token(_b7.token_type,_b8.join(" ")));_ba.parsed=_b9;return _ba;}});return dojox.dtl.tag.loader;});},"dojox*string/tokenize":function(){define(["dojo/_base/kernel"],function(_bb){_bb.getObject("string",true,dojox);dojox.string.tokenize=function(str,re,_bc,_bd){var _be=[];var _bf,_c0,_c1=0;while(_bf=re.exec(str)){_c0=str.slice(_c1,re.lastIndex-_bf[0].length);if(_c0.length){_be.push(_c0);}if(_bc){if(_bb.isOpera){var _c2=_bf.slice(0);while(_c2.length<_bf.length){_c2.push(null);}_bf=_c2;}var _c3=_bc.apply(_bd,_bf.slice(1).concat(_be.length));if(typeof _c3!="undefined"){_be.push(_c3);}}_c1=re.lastIndex;}_c0=str.slice(_c1);if(_c0.length){_be.push(_c0);}return _be;};return dojox.string.tokenize;});},"dojox*dtl/tag/misc":function(){define("dojox/dtl/tag/misc",["dojo/_base/kernel","dojo/_base/lang","../_base","dojo/_base/array","dojo/_base/connect"],function(_c4,_c5,dd){_c4.getObject("dtl.tag.misc",true,dojox);var _c6=dd.tag.misc;_c6.DebugNode=_c4.extend(function(_c7){this.text=_c7;},{render:function(_c8,_c9){var _ca=_c8.getKeys();var _cb=[];var _cc={};for(var i=0,key;key=_ca[i];i++){_cc[key]=_c8[key];_cb+="["+key+": "+typeof _c8[key]+"]\n";}return this.text.set(_cb).render(_c8,_c9,this);},unrender:function(_cd,_ce){return _ce;},clone:function(_cf){return new this.constructor(this.text.clone(_cf));},toString:function(){return "ddtm.DebugNode";}});_c6.FilterNode=_c4.extend(function(_d0,_d1){this._varnode=_d0;this._nodelist=_d1;},{render:function(_d2,_d3){var _d4=this._nodelist.render(_d2,new dojox.string.Builder());_d2=_d2.update({"var":_d4.toString()});var _d5=this._varnode.render(_d2,_d3);_d2=_d2.pop();return _d3;},unrender:function(_d6,_d7){return _d7;},clone:function(_d8){return new this.constructor(this._expression,this._nodelist.clone(_d8));}});_c6.FirstOfNode=_c4.extend(function(_d9,_da){this._vars=_d9;this.vars=_c4.map(_d9,function(_db){return new dojox.dtl._Filter(_db);});this.contents=_da;},{render:function(_dc,_dd){for(var i=0,_de;_de=this.vars[i];i++){var _df=_de.resolve(_dc);if(typeof _df!="undefined"){if(_df===null){_df="null";}this.contents.set(_df);return this.contents.render(_dc,_dd);}}return this.contents.unrender(_dc,_dd);},unrender:function(_e0,_e1){return this.contents.unrender(_e0,_e1);},clone:function(_e2){return new this.constructor(this._vars,this.contents.clone(_e2));}});_c6.SpacelessNode=_c4.extend(function(_e3,_e4){this.nodelist=_e3;this.contents=_e4;},{render:function(_e5,_e6){if(_e6.getParent){var _e7=[_c4.connect(_e6,"onAddNodeComplete",this,"_watch"),_c4.connect(_e6,"onSetParent",this,"_watchParent")];_e6=this.nodelist.render(_e5,_e6);_c4.disconnect(_e7[0]);_c4.disconnect(_e7[1]);}else{var _e8=this.nodelist.dummyRender(_e5);this.contents.set(_e8.replace(/>\s+</g,"><"));_e6=this.contents.render(_e5,_e6);}return _e6;},unrender:function(_e9,_ea){return this.nodelist.unrender(_e9,_ea);},clone:function(_eb){return new this.constructor(this.nodelist.clone(_eb),this.contents.clone(_eb));},_isEmpty:function(_ec){return (_ec.nodeType==3&&!_ec.data.match(/[^\s\n]/));},_watch:function(_ed){if(this._isEmpty(_ed)){var _ee=false;if(_ed.parentNode.firstChild==_ed){_ed.parentNode.removeChild(_ed);}}else{var _ef=_ed.parentNode.childNodes;if(_ed.nodeType==1&&_ef.length>2){for(var i=2,_f0;_f0=_ef[i];i++){if(_ef[i-2].nodeType==1&&this._isEmpty(_ef[i-1])){_ed.parentNode.removeChild(_ef[i-1]);return;}}}}},_watchParent:function(_f1){var _f2=_f1.childNodes;if(_f2.length){while(_f1.childNodes.length){var _f3=_f1.childNodes[_f1.childNodes.length-1];if(!this._isEmpty(_f3)){return;}_f1.removeChild(_f3);}}}});_c6.TemplateTagNode=_c4.extend(function(tag,_f4){this.tag=tag;this.contents=_f4;},{mapping:{openblock:"{%",closeblock:"%}",openvariable:"{{",closevariable:"}}",openbrace:"{",closebrace:"}",opencomment:"{#",closecomment:"#}"},render:function(_f5,_f6){this.contents.set(this.mapping[this.tag]);return this.contents.render(_f5,_f6);},unrender:function(_f7,_f8){return this.contents.unrender(_f7,_f8);},clone:function(_f9){return new this.constructor(this.tag,this.contents.clone(_f9));}});_c6.WidthRatioNode=_c4.extend(function(_fa,max,_fb,_fc){this.current=new dd._Filter(_fa);this.max=new dd._Filter(max);this.width=_fb;this.contents=_fc;},{render:function(_fd,_fe){var _ff=+this.current.resolve(_fd);var max=+this.max.resolve(_fd);if(typeof _ff!="number"||typeof max!="number"||!max){this.contents.set("");}else{this.contents.set(""+Math.round((_ff/max)*this.width));}return this.contents.render(_fd,_fe);},unrender:function(_100,_101){return this.contents.unrender(_100,_101);},clone:function(_102){return new this.constructor(this.current.getExpression(),this.max.getExpression(),this.width,this.contents.clone(_102));}});_c6.WithNode=_c4.extend(function(_103,_104,_105){this.target=new dd._Filter(_103);this.alias=_104;this.nodelist=_105;},{render:function(_106,_107){var _108=this.target.resolve(_106);_106=_106.push();_106[this.alias]=_108;_107=this.nodelist.render(_106,_107);_106=_106.pop();return _107;},unrender:function(_109,_10a){return _10a;},clone:function(_10b){return new this.constructor(this.target.getExpression(),this.alias,this.nodelist.clone(_10b));}});_c4.mixin(_c6,{comment:function(_10c,_10d){_10c.skip_past("endcomment");return dd._noOpNode;},debug:function(_10e,_10f){return new _c6.DebugNode(_10e.create_text_node());},filter:function(_110,_111){var rest=_111.contents.split(null,1)[1];var _112=_110.create_variable_node("var|"+rest);var _113=_110.parse(["endfilter"]);_110.next_token();return new _c6.FilterNode(_112,_113);},firstof:function(_114,_115){var _116=_115.split_contents().slice(1);if(!_116.length){throw new Error("'firstof' statement requires at least one argument");}return new _c6.FirstOfNode(_116,_114.create_text_node());},spaceless:function(_117,_118){var _119=_117.parse(["endspaceless"]);_117.delete_first_token();return new _c6.SpacelessNode(_119,_117.create_text_node());},templatetag:function(_11a,_11b){var _11c=_11b.contents.split();if(_11c.length!=2){throw new Error("'templatetag' statement takes one argument");}var tag=_11c[1];var _11d=_c6.TemplateTagNode.prototype.mapping;if(!_11d[tag]){var keys=[];for(var key in _11d){keys.push(key);}throw new Error("Invalid templatetag argument: '"+tag+"'. Must be one of: "+keys.join(", "));}return new _c6.TemplateTagNode(tag,_11a.create_text_node());},widthratio:function(_11e,_11f){var _120=_11f.contents.split();if(_120.length!=4){throw new Error("widthratio takes three arguments");}var _121=+_120[3];if(typeof _121!="number"){throw new Error("widthratio final argument must be an integer");}return new _c6.WidthRatioNode(_120[1],_120[2],_121,_11e.create_text_node());},with_:function(_122,_123){var _124=_123.split_contents();if(_124.length!=4||_124[2]!="as"){throw new Error("do_width expected format as 'with value as name'");}var _125=_122.parse(["endwith"]);_122.next_token();return new _c6.WithNode(_124[1],_124[3],_125);}});return dojox.dtl.tag.misc;});},"dojox*dtl/Context":function(){define("dojox/dtl/Context",["dojo/_base/kernel","dojo/_base/lang","./_base"],function(dojo,lang,dd){dojox.dtl.Context=dojo.extend(function(dict){this._this={};dd._Context.call(this,dict);},dd._Context.prototype,{getKeys:function(){var keys=[];for(var key in this){if(this.hasOwnProperty(key)&&key!="_this"){keys.push(key);}}return keys;},extend:function(obj){return dojo.delegate(this,obj);},filter:function(_126){var _127=new dd.Context();var keys=[];var i,arg;if(_126 instanceof dd.Context){keys=_126.getKeys();}else{if(typeof _126=="object"){for(var key in _126){keys.push(key);}}else{for(i=0;arg=arguments[i];i++){if(typeof arg=="string"){keys.push(arg);}}}}for(i=0,key;key=keys[i];i++){_127[key]=this[key];}return _127;},setThis:function(_128){this._this=_128;},getThis:function(){return this._this;},hasKey:function(key){if(this._getter){var got=this._getter(key);if(typeof got!="undefined"){return true;}}if(typeof this[key]!="undefined"){return true;}return false;}});return dojox.dtl.Context;});},"dojo*date":function(){define(["./_base/kernel"],function(dojo){dojo.getObject("date",true,dojo);dojo.date.getDaysInMonth=function(_129){var _12a=_129.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_12a==1&&dojo.date.isLeapYear(_129)){return 29;}return days[_12a];};dojo.date.isLeapYear=function(_12b){var year=_12b.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_12c){var str=_12c.toString();var tz="";var _12d;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_12d=str.match(pat))){tz=_12d[1];}else{str=_12c.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_12d=str.match(pat))){tz=_12d[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_12e,_12f,_130){_12e=new Date(+_12e);_12f=new Date(+(_12f||new Date()));if(_130=="date"){_12e.setHours(0,0,0,0);_12f.setHours(0,0,0,0);}else{if(_130=="time"){_12e.setFullYear(0,0,0);_12f.setFullYear(0,0,0);}}if(_12e>_12f){return 1;}if(_12e<_12f){return -1;}return 0;};dojo.date.add=function(date,_131,_132){var sum=new Date(+date);var _133=false;var _134="Date";switch(_131){case "day":break;case "weekday":var days,_135;var mod=_132%5;if(!mod){days=(_132>0)?5:-5;_135=(_132>0)?((_132-5)/5):((_132+5)/5);}else{days=mod;_135=parseInt(_132/5);}var strt=date.getDay();var adj=0;if(strt==6&&_132>0){adj=1;}else{if(strt==0&&_132<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_132>0)?2:-2;}_132=(7*_135)+days+adj;break;case "year":_134="FullYear";_133=true;break;case "week":_132*=7;break;case "quarter":_132*=3;case "month":_133=true;_134="Month";break;default:_134="UTC"+_131.charAt(0).toUpperCase()+_131.substring(1)+"s";}if(_134){sum["set"+_134](sum["get"+_134]()+_132);}if(_133&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_136,_137,_138){_137=_137||new Date();_138=_138||"day";var _139=_137.getFullYear()-_136.getFullYear();var _13a=1;switch(_138){case "quarter":var m1=_136.getMonth();var m2=_137.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_139*4);_13a=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_136,_137,"day"));var _13b=parseInt(dojo.date.difference(_136,_137,"week"));var mod=days%7;if(mod==0){days=_13b*5;}else{var adj=0;var aDay=_136.getDay();var bDay=_137.getDay();_13b=parseInt(days/7);mod=days%7;var _13c=new Date(_136);_13c.setDate(_13c.getDate()+(_13b*7));var _13d=_13c.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_13d+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_13d+mod)<0:adj=2;}}}days+=adj;days-=(_13b*2);}_13a=days;break;case "year":_13a=_139;break;case "month":_13a=(_137.getMonth()-_136.getMonth())+(_139*12);break;case "week":_13a=parseInt(dojo.date.difference(_136,_137,"day")/7);break;case "day":_13a/=24;case "hour":_13a/=60;case "minute":_13a/=60;case "second":_13a/=1000;case "millisecond":_13a*=_137.getTime()-_136.getTime();}return Math.round(_13a);};return dojo.date;});},"dojox*dtl/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojox/string/tokenize","dojo/_base/json","dojo/_base/html","dojox/string/Builder"],function(dojo,lang,dxst){dojo.experimental("dojox.dtl");dojo.getObject("dtl",true,dojox);(dojox.dtl._base=function(){var dd=dojox.dtl;dd.TOKEN_BLOCK=-1;dd.TOKEN_VAR=-2;dd.TOKEN_COMMENT=-3;dd.TOKEN_TEXT=3;dd._Context=dojo.extend(function(dict){if(dict){dojo._mixin(this,dict);if(dict.get){this._getter=dict.get;delete this.get;}}},{push:function(){var last=this;var _13e=dojo.delegate(this);_13e.pop=function(){return last;};return _13e;},pop:function(){throw new Error("pop() called on empty Context");},get:function(key,_13f){var n=this._normalize;if(this._getter){var got=this._getter(key);if(typeof got!="undefined"){return n(got);}}if(typeof this[key]!="undefined"){return n(this[key]);}return _13f;},_normalize:function(_140){if(_140 instanceof Date){_140.year=_140.getFullYear();_140.month=_140.getMonth()+1;_140.day=_140.getDate();_140.date=_140.year+"-"+("0"+_140.month).slice(-2)+"-"+("0"+_140.day).slice(-2);_140.hour=_140.getHours();_140.minute=_140.getMinutes();_140.second=_140.getSeconds();_140.microsecond=_140.getMilliseconds();}return _140;},update:function(dict){var _141=this.push();if(dict){dojo._mixin(this,dict);}return _141;}});var _142=/("(?:[^"\\]*(?:\\.[^"\\]*)*)"|'(?:[^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+)/g;var _143=/\s+/g;var _144=function(_145,_146){_145=_145||_143;if(!(_145 instanceof RegExp)){_145=new RegExp(_145,"g");}if(!_145.global){throw new Error("You must use a globally flagged RegExp with split "+_145);}_145.exec("");var part,_147=[],_148=0,i=0;while(part=_145.exec(this)){_147.push(this.slice(_148,_145.lastIndex-part[0].length));_148=_145.lastIndex;if(_146&&(++i>_146-1)){break;}}_147.push(this.slice(_148));return _147;};dd.Token=function(_149,_14a){this.token_type=_149;this.contents=new String(dojo.trim(_14a));this.contents.split=_144;this.split=function(){return String.prototype.split.apply(this.contents,arguments);};};dd.Token.prototype.split_contents=function(_14b){var bit,bits=[],i=0;_14b=_14b||999;while(i++<_14b&&(bit=_142.exec(this.contents))){bit=bit[0];if(bit.charAt(0)=="\""&&bit.slice(-1)=="\""){bits.push("\""+bit.slice(1,-1).replace("\\\"","\"").replace("\\\\","\\")+"\"");}else{if(bit.charAt(0)=="'"&&bit.slice(-1)=="'"){bits.push("'"+bit.slice(1,-1).replace("\\'","'").replace("\\\\","\\")+"'");}else{bits.push(bit);}}}return bits;};var ddt=dd.text={_get:function(_14c,name,_14d){var _14e=dd.register.get(_14c,name.toLowerCase(),_14d);if(!_14e){if(!_14d){throw new Error("No tag found for "+name);}return null;}var fn=_14e[1];var _14f=_14e[2];var _150;if(fn.indexOf(":")!=-1){_150=fn.split(":");fn=_150.pop();}dojo["require"](_14f);var _151=dojo.getObject(_14f);return _151[fn||name]||_151[name+"_"]||_151[fn+"_"];},getTag:function(name,_152){return ddt._get("tag",name,_152);},getFilter:function(name,_153){return ddt._get("filter",name,_153);},getTemplate:function(file){return new dd.Template(ddt.getTemplateString(file));},getTemplateString:function(file){return dojo._getText(file.toString())||"";},_resolveLazy:function(_154,sync,json){if(sync){if(json){return dojo.fromJson(dojo._getText(_154))||{};}else{return dd.text.getTemplateString(_154);}}else{return dojo.xhrGet({handleAs:(json)?"json":"text",url:_154});}},_resolveTemplateArg:function(arg,sync){if(ddt._isTemplate(arg)){if(!sync){var d=new dojo.Deferred();d.callback(arg);return d;}return arg;}return ddt._resolveLazy(arg,sync);},_isTemplate:function(arg){return (typeof arg=="undefined")||(typeof arg=="string"&&(arg.match(/^\s*[<{]/)||arg.indexOf(" ")!=-1));},_resolveContextArg:function(arg,sync){if(arg.constructor==Object){if(!sync){var d=new dojo.Deferred;d.callback(arg);return d;}return arg;}return ddt._resolveLazy(arg,sync,true);},_re:/(?:\{\{\s*(.+?)\s*\}\}|\{%\s*(load\s*)?(.+?)\s*%\})/g,tokenize:function(str){return dxst(str,ddt._re,ddt._parseDelims);},_parseDelims:function(varr,load,tag){if(varr){return [dd.TOKEN_VAR,varr];}else{if(load){var _155=dojo.trim(tag).split(/\s+/g);for(var i=0,part;part=_155[i];i++){dojo["require"](part);}}else{return [dd.TOKEN_BLOCK,tag];}}}};dd.Template=dojo.extend(function(_156,_157){var str=_157?_156:ddt._resolveTemplateArg(_156,true)||"";var _158=ddt.tokenize(str);var _159=new dd._Parser(_158);this.nodelist=_159.parse();},{update:function(node,_15a){return ddt._resolveContextArg(_15a).addCallback(this,function(_15b){var _15c=this.render(new dd._Context(_15b));if(node.forEach){node.forEach(function(item){item.innerHTML=_15c;});}else{dojo.byId(node).innerHTML=_15c;}return this;});},render:function(_15d,_15e){_15e=_15e||this.getBuffer();_15d=_15d||new dd._Context({});return this.nodelist.render(_15d,_15e)+"";},getBuffer:function(){return new dojox.string.Builder();}});var qfRe=/\{\{\s*(.+?)\s*\}\}/g;dd.quickFilter=function(str){if(!str){return new dd._NodeList();}if(str.indexOf("{%")==-1){return new dd._QuickNodeList(dxst(str,qfRe,function(_15f){return new dd._Filter(_15f);}));}};dd._QuickNodeList=dojo.extend(function(_160){this.contents=_160;},{render:function(_161,_162){for(var i=0,l=this.contents.length;i<l;i++){if(this.contents[i].resolve){_162=_162.concat(this.contents[i].resolve(_161));}else{_162=_162.concat(this.contents[i]);}}return _162;},dummyRender:function(_163){return this.render(_163,dd.Template.prototype.getBuffer()).toString();},clone:function(_164){return this;}});dd._Filter=dojo.extend(function(_165){if(!_165){throw new Error("Filter must be called with variable name");}this.contents=_165;var _166=this._cache[_165];if(_166){this.key=_166[0];this.filters=_166[1];}else{this.filters=[];dxst(_165,this._re,this._tokenize,this);this._cache[_165]=[this.key,this.filters];}},{_cache:{},_re:/(?:^_\("([^\\"]*(?:\\.[^\\"])*)"\)|^"([^\\"]*(?:\\.[^\\"]*)*)"|^([a-zA-Z0-9_.]+)|\|(\w+)(?::(?:_\("([^\\"]*(?:\\.[^\\"])*)"\)|"([^\\"]*(?:\\.[^\\"]*)*)"|([a-zA-Z0-9_.]+)|'([^\\']*(?:\\.[^\\']*)*)'))?|^'([^\\']*(?:\\.[^\\']*)*)')/g,_values:{0:"\"",1:"\"",2:"",8:"\""},_args:{4:"\"",5:"\"",6:"",7:"'"},_tokenize:function(){var pos,arg;for(var i=0,has=[];i<arguments.length;i++){has[i]=(typeof arguments[i]!="undefined"&&typeof arguments[i]=="string"&&arguments[i]);}if(!this.key){for(pos in this._values){if(has[pos]){this.key=this._values[pos]+arguments[pos]+this._values[pos];break;}}}else{for(pos in this._args){if(has[pos]){var _167=arguments[pos];if(this._args[pos]=="'"){_167=_167.replace(/\\'/g,"'");}else{if(this._args[pos]=="\""){_167=_167.replace(/\\"/g,"\"");}}arg=[!this._args[pos],_167];break;}}var fn=ddt.getFilter(arguments[3]);if(!dojo.isFunction(fn)){throw new Error(arguments[3]+" is not registered as a filter");}this.filters.push([fn,arg]);}},getExpression:function(){return this.contents;},resolve:function(_168){if(typeof this.key=="undefined"){return "";}var str=this.resolvePath(this.key,_168);for(var i=0,_169;_169=this.filters[i];i++){if(_169[1]){if(_169[1][0]){str=_169[0](str,this.resolvePath(_169[1][1],_168));}else{str=_169[0](str,_169[1][1]);}}else{str=_169[0](str);}}return str;},resolvePath:function(path,_16a){var _16b,_16c;var _16d=path.charAt(0);var last=path.slice(-1);if(!isNaN(parseInt(_16d))){_16b=(path.indexOf(".")==-1)?parseInt(path):parseFloat(path);}else{if(_16d=="\""&&_16d==last){_16b=path.slice(1,-1);}else{if(path=="true"){return true;}if(path=="false"){return false;}if(path=="null"||path=="None"){return null;}_16c=path.split(".");_16b=_16a.get(_16c[0]);if(dojo.isFunction(_16b)){var self=_16a.getThis&&_16a.getThis();if(_16b.alters_data){_16b="";}else{if(self){_16b=_16b.call(self);}else{_16b="";}}}for(var i=1;i<_16c.length;i++){var part=_16c[i];if(_16b){var base=_16b;if(dojo.isObject(_16b)&&part=="items"&&typeof _16b[part]=="undefined"){var _16e=[];for(var key in _16b){_16e.push([key,_16b[key]]);}_16b=_16e;continue;}if(_16b.get&&dojo.isFunction(_16b.get)&&_16b.get.safe){_16b=_16b.get(part);}else{if(typeof _16b[part]=="undefined"){_16b=_16b[part];break;}else{_16b=_16b[part];}}if(dojo.isFunction(_16b)){if(_16b.alters_data){_16b="";}else{_16b=_16b.call(base);}}else{if(_16b instanceof Date){_16b=dd._Context.prototype._normalize(_16b);}}}else{return "";}}}}return _16b;}});dd._TextNode=dd._Node=dojo.extend(function(obj){this.contents=obj;},{set:function(data){this.contents=data;return this;},render:function(_16f,_170){return _170.concat(this.contents);},isEmpty:function(){return !dojo.trim(this.contents);},clone:function(){return this;}});dd._NodeList=dojo.extend(function(_171){this.contents=_171||[];this.last="";},{push:function(node){this.contents.push(node);return this;},concat:function(_172){this.contents=this.contents.concat(_172);return this;},render:function(_173,_174){for(var i=0;i<this.contents.length;i++){_174=this.contents[i].render(_173,_174);if(!_174){throw new Error("Template must return buffer");}}return _174;},dummyRender:function(_175){return this.render(_175,dd.Template.prototype.getBuffer()).toString();},unrender:function(){return arguments[1];},clone:function(){return this;},rtrim:function(){while(1){i=this.contents.length-1;if(this.contents[i] instanceof dd._TextNode&&this.contents[i].isEmpty()){this.contents.pop();}else{break;}}return this;}});dd._VarNode=dojo.extend(function(str){this.contents=new dd._Filter(str);},{render:function(_176,_177){var str=this.contents.resolve(_176);if(!str.safe){str=dd._base.escape(""+str);}return _177.concat(str);}});dd._noOpNode=new function(){this.render=this.unrender=function(){return arguments[1];};this.clone=function(){return this;};};dd._Parser=dojo.extend(function(_178){this.contents=_178;},{i:0,parse:function(_179){var _17a={},_17b;_179=_179||[];for(var i=0;i<_179.length;i++){_17a[_179[i]]=true;}var _17c=new dd._NodeList();while(this.i<this.contents.length){_17b=this.contents[this.i++];if(typeof _17b=="string"){_17c.push(new dd._TextNode(_17b));}else{var type=_17b[0];var text=_17b[1];if(type==dd.TOKEN_VAR){_17c.push(new dd._VarNode(text));}else{if(type==dd.TOKEN_BLOCK){if(_17a[text]){--this.i;return _17c;}var cmd=text.split(/\s+/g);if(cmd.length){cmd=cmd[0];var fn=ddt.getTag(cmd);if(fn){_17c.push(fn(this,new dd.Token(type,text)));}}}}}}if(_179.length){throw new Error("Could not find closing tag(s): "+_179.toString());}this.contents.length=0;return _17c;},next_token:function(){var _17d=this.contents[this.i++];return new dd.Token(_17d[0],_17d[1]);},delete_first_token:function(){this.i++;},skip_past:function(_17e){while(this.i<this.contents.length){var _17f=this.contents[this.i++];if(_17f[0]==dd.TOKEN_BLOCK&&_17f[1]==_17e){return;}}throw new Error("Unclosed tag found when looking for "+_17e);},create_variable_node:function(expr){return new dd._VarNode(expr);},create_text_node:function(expr){return new dd._TextNode(expr||"");},getTemplate:function(file){return new dd.Template(file);}});dd.register={_registry:{attributes:[],tags:[],filters:[]},get:function(_180,name){var _181=dd.register._registry[_180+"s"];for(var i=0,_182;_182=_181[i];i++){if(typeof _182[0]=="string"){if(_182[0]==name){return _182;}}else{if(name.match(_182[0])){return _182;}}}},getAttributeTags:function(){var tags=[];var _183=dd.register._registry.attributes;for(var i=0,_184;_184=_183[i];i++){if(_184.length==3){tags.push(_184);}else{var fn=dojo.getObject(_184[1]);if(fn&&dojo.isFunction(fn)){_184.push(fn);tags.push(_184);}}}return tags;},_any:function(type,base,_185){for(var path in _185){for(var i=0,fn;fn=_185[path][i];i++){var key=fn;if(dojo.isArray(fn)){key=fn[0];fn=fn[1];}if(typeof key=="string"){if(key.substr(0,5)=="attr:"){var attr=fn;if(attr.substr(0,5)=="attr:"){attr=attr.slice(5);}dd.register._registry.attributes.push([attr.toLowerCase(),base+"."+path+"."+attr]);}key=key.toLowerCase();}dd.register._registry[type].push([key,fn,base+"."+path]);}}},tags:function(base,_186){dd.register._any("tags",base,_186);},filters:function(base,_187){dd.register._any("filters",base,_187);}};var _188=/&/g;var _189=/</g;var _18a=/>/g;var _18b=/'/g;var _18c=/"/g;dd._base.escape=function(_18d){return dd.mark_safe(_18d.replace(_188,"&amp;").replace(_189,"&lt;").replace(_18a,"&gt;").replace(_18c,"&quot;").replace(_18b,"&#39;"));};dd._base.safe=function(_18e){if(typeof _18e=="string"){_18e=new String(_18e);}if(typeof _18e=="object"){_18e.safe=true;}return _18e;};dd.mark_safe=dd._base.safe;dd.register.tags("dojox.dtl.tag",{"date":["now"],"logic":["if","for","ifequal","ifnotequal"],"loader":["extends","block","include","load","ssi"],"misc":["comment","debug","filter","firstof","spaceless","templatetag","widthratio","with"],"loop":["cycle","ifchanged","regroup"]});dd.register.filters("dojox.dtl.filter",{"dates":["date","time","timesince","timeuntil"],"htmlstrings":["linebreaks","linebreaksbr","removetags","striptags"],"integers":["add","get_digit"],"lists":["dictsort","dictsortreversed","first","join","length","length_is","random","slice","unordered_list"],"logic":["default","default_if_none","divisibleby","yesno"],"misc":["filesizeformat","pluralize","phone2numeric","pprint"],"strings":["addslashes","capfirst","center","cut","fix_ampersands","floatformat","iriencode","linenumbers","ljust","lower","make_list","rjust","slugify","stringformat","title","truncatewords","truncatewords_html","upper","urlencode","urlize","urlizetrunc","wordcount","wordwrap"]});dd.register.filters("dojox.dtl",{"_base":["escape","safe"]});})();return dojox.dtl;});},"dojox*dtl/utils/date":function(){define("dojox/dtl/utils/date",["dojo/_base/kernel","dojo/_base/lang","dojox/date/php"],function(dojo,lang,ddp){dojo.getObject("dtl.utils.date",true,dojox);dojox.dtl.utils.date.DateFormat=function(_18f){ddp.DateFormat.call(this,_18f);};dojo.extend(dojox.dtl.utils.date.DateFormat,ddp.DateFormat.prototype,{f:function(){return (!this.date.getMinutes())?this.g():this.g()+":"+this.i();},N:function(){return dojox.dtl.utils.date._months_ap[this.date.getMonth()];},P:function(){if(!this.date.getMinutes()&&!this.date.getHours()){return "midnight";}if(!this.date.getMinutes()&&this.date.getHours()==12){return "noon";}return this.f()+" "+this.a();}});dojo.mixin(dojox.dtl.utils.date,{format:function(date,_190){var df=new dojox.dtl.utils.date.DateFormat(_190);return df.format(date);},timesince:function(d,now){if(!(d instanceof Date)){d=new Date(d.year,d.month,d.day);}if(!now){now=new Date();}var _191=Math.abs(now.getTime()-d.getTime());for(var i=0,_192;_192=dojox.dtl.utils.date._chunks[i];i++){var _193=Math.floor(_191/_192[0]);if(_193){break;}}return _193+" "+_192[1](_193);},_chunks:[[60*60*24*365*1000,function(n){return (n==1)?"year":"years";}],[60*60*24*30*1000,function(n){return (n==1)?"month":"months";}],[60*60*24*7*1000,function(n){return (n==1)?"week":"weeks";}],[60*60*24*1000,function(n){return (n==1)?"day":"days";}],[60*60*1000,function(n){return (n==1)?"hour":"hours";}],[60*1000,function(n){return (n==1)?"minute":"minutes";}]],_months_ap:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."]});return dojox.dtl.utils.date;});},"dojox*dtl/tag/loop":function(){define("dojox/dtl/tag/loop",["dojo/_base/kernel","dojo/_base/lang","../_base","dojox/string/tokenize","dojo/_base/array"],function(dojo,lang,dd,dxst){dojo.getObject("dtl.tag.loop",true,dojox);var ddtl=dd.tag.loop;ddtl.CycleNode=dojo.extend(function(_194,name,text,_195){this.cyclevars=_194;this.name=name;this.contents=text;this.shared=_195||{counter:-1,map:{}};},{render:function(_196,_197){if(_196.forloop&&!_196.forloop.counter0){this.shared.counter=-1;}++this.shared.counter;var _198=this.cyclevars[this.shared.counter%this.cyclevars.length];var map=this.shared.map;if(!map[_198]){map[_198]=new dd._Filter(_198);}_198=map[_198].resolve(_196,_197);if(this.name){_196[this.name]=_198;}this.contents.set(_198);return this.contents.render(_196,_197);},unrender:function(_199,_19a){return this.contents.unrender(_199,_19a);},clone:function(_19b){return new this.constructor(this.cyclevars,this.name,this.contents.clone(_19b),this.shared);}});ddtl.IfChangedNode=dojo.extend(function(_19c,vars,_19d){this.nodes=_19c;this._vars=vars;this.shared=_19d||{last:null,counter:0};this.vars=dojo.map(vars,function(item){return new dojox.dtl._Filter(item);});},{render:function(_19e,_19f){if(_19e.forloop){if(_19e.forloop.counter<=this.shared.counter){this.shared.last=null;}this.shared.counter=_19e.forloop.counter;}var _1a0;if(this.vars.length){_1a0=dojo.toJson(dojo.map(this.vars,function(item){return item.resolve(_19e);}));}else{_1a0=this.nodes.dummyRender(_19e,_19f);}if(_1a0!=this.shared.last){var _1a1=(this.shared.last===null);this.shared.last=_1a0;_19e=_19e.push();_19e.ifchanged={firstloop:_1a1};_19f=this.nodes.render(_19e,_19f);_19e=_19e.pop();}else{_19f=this.nodes.unrender(_19e,_19f);}return _19f;},unrender:function(_1a2,_1a3){return this.nodes.unrender(_1a2,_1a3);},clone:function(_1a4){return new this.constructor(this.nodes.clone(_1a4),this._vars,this.shared);}});ddtl.RegroupNode=dojo.extend(function(_1a5,key,_1a6){this._expression=_1a5;this.expression=new dd._Filter(_1a5);this.key=key;this.alias=_1a6;},{_push:function(_1a7,_1a8,_1a9){if(_1a9.length){_1a7.push({grouper:_1a8,list:_1a9});}},render:function(_1aa,_1ab){_1aa[this.alias]=[];var list=this.expression.resolve(_1aa);if(list){var last=null;var _1ac=[];for(var i=0;i<list.length;i++){var id=list[i][this.key];if(last!==id){this._push(_1aa[this.alias],last,_1ac);last=id;_1ac=[list[i]];}else{_1ac.push(list[i]);}}this._push(_1aa[this.alias],last,_1ac);}return _1ab;},unrender:function(_1ad,_1ae){return _1ae;},clone:function(_1af,_1b0){return this;}});dojo.mixin(ddtl,{cycle:function(_1b1,_1b2){var args=_1b2.split_contents();if(args.length<2){throw new Error("'cycle' tag requires at least two arguments");}if(args[1].indexOf(",")!=-1){var vars=args[1].split(",");args=[args[0]];for(var i=0;i<vars.length;i++){args.push("\""+vars[i]+"\"");}}if(args.length==2){var name=args[args.length-1];if(!_1b1._namedCycleNodes){throw new Error("No named cycles in template: '"+name+"' is not defined");}if(!_1b1._namedCycleNodes[name]){throw new Error("Named cycle '"+name+"' does not exist");}return _1b1._namedCycleNodes[name];}if(args.length>4&&args[args.length-2]=="as"){var name=args[args.length-1];var node=new ddtl.CycleNode(args.slice(1,args.length-2),name,_1b1.create_text_node());if(!_1b1._namedCycleNodes){_1b1._namedCycleNodes={};}_1b1._namedCycleNodes[name]=node;}else{node=new ddtl.CycleNode(args.slice(1),null,_1b1.create_text_node());}return node;},ifchanged:function(_1b3,_1b4){var _1b5=_1b4.contents.split();var _1b6=_1b3.parse(["endifchanged"]);_1b3.delete_first_token();return new ddtl.IfChangedNode(_1b6,_1b5.slice(1));},regroup:function(_1b7,_1b8){var _1b9=dxst(_1b8.contents,/(\s+)/g,function(_1ba){return _1ba;});if(_1b9.length<11||_1b9[_1b9.length-3]!="as"||_1b9[_1b9.length-7]!="by"){throw new Error("Expected the format: regroup list by key as newList");}var _1bb=_1b9.slice(2,-8).join("");var key=_1b9[_1b9.length-5];var _1bc=_1b9[_1b9.length-1];return new ddtl.RegroupNode(_1bb,key,_1bc);}});return dojox.dtl.tag.loop;});},"dojox*dtl/tag/date":function(){define("dojox/dtl/tag/date",["dojo/_base/kernel","dojo/_base/lang","../_base","../utils/date"],function(dojo,lang,dd,ddud){dojo.getObject("dtl.tag.date",true,dojox);dojox.dtl.tag.date.NowNode=function(_1bd,node){this._format=_1bd;this.format=new ddud.DateFormat(_1bd);this.contents=node;};dojo.extend(dojox.dtl.tag.date.NowNode,{render:function(_1be,_1bf){this.contents.set(this.format.format(new Date()));return this.contents.render(_1be,_1bf);},unrender:function(_1c0,_1c1){return this.contents.unrender(_1c0,_1c1);},clone:function(_1c2){return new this.constructor(this._format,this.contents.clone(_1c2));}});dojox.dtl.tag.date.now=function(_1c3,_1c4){var _1c5=_1c4.split_contents();if(_1c5.length!=2){throw new Error("'now' statement takes one argument");}return new dojox.dtl.tag.date.NowNode(_1c5[1].slice(1,-1),_1c3.create_text_node());};return dojox.dtl.tag.date;});},"dojox*string/Builder":function(){define("dojox/string/Builder",["dojo/_base/kernel"],function(dojo){dojo.getObject("string",true,dojox);dojox.string.Builder=function(str){var b="";this.length=0;this.append=function(s){if(arguments.length>1){var tmp="",l=arguments.length;switch(l){case 9:tmp=""+arguments[8]+tmp;case 8:tmp=""+arguments[7]+tmp;case 7:tmp=""+arguments[6]+tmp;case 6:tmp=""+arguments[5]+tmp;case 5:tmp=""+arguments[4]+tmp;case 4:tmp=""+arguments[3]+tmp;case 3:tmp=""+arguments[2]+tmp;case 2:b+=""+arguments[0]+arguments[1]+tmp;break;default:var i=0;while(i<arguments.length){tmp+=arguments[i++];}b+=tmp;}}else{b+=s;}this.length=b.length;return this;};this.concat=function(s){return this.append.apply(this,arguments);};this.appendArray=function(_1c6){return this.append.apply(this,_1c6);};this.clear=function(){b="";this.length=0;return this;};this.replace=function(_1c7,_1c8){b=b.replace(_1c7,_1c8);this.length=b.length;return this;};this.remove=function(_1c9,len){if(len===undefined){len=b.length;}if(len==0){return this;}b=b.substr(0,_1c9)+b.substr(_1c9+len);this.length=b.length;return this;};this.insert=function(_1ca,str){if(_1ca==0){b=str+b;}else{b=b.slice(0,_1ca)+str+b.slice(_1ca);}this.length=b.length;return this;};this.toString=function(){return b;};if(str){this.append(str);}};return dojox.string.Builder;});}}});define("dojox/dtl",["./dtl/_base"],function(_1cb){return _1cb;});